<%- include('../partials/header') %>
<%- include('../partials/navigation', { nav }) %>

<main class="form-container">
  <h1>Confirm Deletion</h1>
  
  <% if (message) { %>
    <div class="flash-message"><%= message %></div>
  <% } %>

  <% if (errors) { %>
    <ul class="errors">
      <% errors.array().forEach(error => { %>
        <li><%= error.msg %></li>
      <% }) %>
    </ul>
  <% } %>

  <p class="warning">Confirm Deletion - The delete is permanent and cannot be undone.</p>

  <form action="/inv/delete" method="POST" class="inventory-form">
    <div class="form-group">
      <label for="inv_make">Make:</label>
      <input type="text" id="inv_make" name="inv_make" readonly
        value="<%= typeof inv_make !== 'undefined' ? inv_make : '' %>">
    </div>

    <div class="form-group">
      <label for="inv_model">Model:</label>
      <input type="text" id="inv_model" name="inv_model" readonly
        value="<%= typeof inv_model !== 'undefined' ? inv_model : '' %>">
    </div>

    <div class="form-group">
      <label for="inv_year">Year:</label>
      <input type="number" id="inv_year" name="inv_year" readonly
        value="<%= typeof inv_year !== 'undefined' ? inv_year : '' %>">
    </div>

    <div class="form-group">
      <label for="inv_price">Price:</label>
      <input type="number" step="0.01" id="inv_price" name="inv_price" readonly
        value="<%= typeof inv_price !== 'undefined' ? inv_price : '' %>">
    </div>

    <input type="hidden" name="inv_id" 
      <% if (locals.inv_id) { %> 
        value="<%= locals.inv_id %>"
      <% } %>>

    <button type="submit" class="btn-submit btn-delete">Delete Vehicle</button>
  </form>
</main>

<%- include('../partials/footer') %>